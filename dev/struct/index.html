<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>scatteringTransform type · ScatteringTransform.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="ScatteringTransform.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">ScatteringTransform.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../math/">Mathematical Description</a></li><li><span class="tocitem">Scattering Transform</span><ul><li class="is-active"><a class="tocitem" href>scatteringTransform type</a><ul class="internal"><li><a class="tocitem" href="#Parameters-unique-to-ScatteringTransform.jl"><span>Parameters unique to ScatteringTransform.jl</span></a></li><li><a class="tocitem" href="#Parameters-passed-to-[FourierFilterFlux.jl](https://dsweber2.github.io/FourierFilterFlux.jl/dev/)"><span>Parameters passed to FourierFilterFlux.jl</span></a></li><li><a class="tocitem" href="#Parameters-passed-to-[ContinuousWavelets.jl](https://dsweber2.github.io/ContinuousWavelets.jl/dev/)"><span>Parameters passed to ContinuousWavelets.jl</span></a></li></ul></li><li><a class="tocitem" href="../out/">ScatteredOut type</a></li><li><a class="tocitem" href="../subsampling/">Subsampling Operators</a></li><li><a class="tocitem" href="../pathLocs/">Path Operations</a></li><li><a class="tocitem" href="../utils/">Utilities</a></li></ul></li><li><span class="tocitem">Scattering Plots</span><ul><li><a class="tocitem" href="../plots/">Plots</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Scattering Transform</a></li><li class="is-active"><a href>scatteringTransform type</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>scatteringTransform type</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/dsweber2/ScatteringTransform.jl/blob/master/docs/src/struct.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="scatteringTransform-type"><a class="docs-heading-anchor" href="#scatteringTransform-type">scatteringTransform type</a><a id="scatteringTransform-type-1"></a><a class="docs-heading-anchor-permalink" href="#scatteringTransform-type" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="ScatteringTransform.scatteringTransform" href="#ScatteringTransform.scatteringTransform"><code>ScatteringTransform.scatteringTransform</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">scatteringTransform{Dimension,Depth}</code></pre><p>The abstract type and constructor for scattering transforms. The specific types are <code>stFlux</code> in this package, and <code>stParallel</code> in <a href="https://github.com/dsweber2/ParallelScattering.jl/">ParallelScattering.jl</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dsweber2/ScatteringTransform.jl/blob/8b0b58adf7ac64a79ae891659e836bc886c8b725/src/shared.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ScatteringTransform.scatteringTransform-Tuple{Any, Any, UnionAll}" href="#ScatteringTransform.scatteringTransform-Tuple{Any, Any, UnionAll}"><code>ScatteringTransform.scatteringTransform</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scatteringTransform(inputSize, m=2, backend::UnionAll=stFlux; kwargs...)</code></pre><p>The constructor for the abstract type scatteringTransform, with the concrete type specified by <code>backend</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dsweber2/ScatteringTransform.jl/blob/8b0b58adf7ac64a79ae891659e836bc886c8b725/src/ScatteringTransform.jl#L35-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ScatteringTransform.stFlux" href="#ScatteringTransform.stFlux"><code>ScatteringTransform.stFlux</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">stFlux(inputSize::NTuple{N}, m=2; trainable=false,
                         normalize=true, outputPool=2,
                         poolBy=3 // 2, σ=abs, flatten=false, kwargs...)</code></pre><p>Create a scattering transform of depth <code>m</code> (which returns a <code>m+1</code> depth list of arrays stored in a <a href="../out/#ScatteringTransform.ScatteredOut"><code>ScatteredOut</code></a>) that subsamples at a rate of <code>poolBy</code> each layer, using <code>scales[i]</code> and <code>shearLevels[i]</code> at each layer. <code>normalize</code> means give each layer the same average weight per path, e.g. since the zeroth layer has one path, give it norm 1, if the first layer has 16 paths, give the sum across all first layer paths norm 16, etc. This is primarily for cases where the classification algorithm needs roughly the same order of magnitude variance. <code>flatten</code> means return a result that is a matrix of size <code>(:,nExamples)</code> where <code>nExamples</code> is the last dimension of <code>inputSize</code>. <code>σ</code> is the nonlinearity used. Any additional keyword args <code>kwargs...</code> come from either the FourierFilterFlux <a href="https://dsweber2.github.io/FourierFilterFlux.jl/dev/constructors/#FourierFilterFlux.waveletLayer"><code>waveletLayerConstructor</code></a>, or subsequently from ContinuousWavlets <a href="https://dsweber2.github.io/ContinuousWavelets.jl/dev/CWTConstruction/"><code>wavelet</code></a> constructor ContinuousWavelets.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using ScatteringTransform

julia&gt; x = [ones(128); zeros(128)];

julia&gt; St = stFlux((256,1,1))
┌ Warning: there are wavelets whose peaks are far enough apart that the trough between them is less than half the height of the highest frequency wavelet
│   minimalRegionComparedToLastPeak = 2.45709167339886
└ @ ContinuousWavelets ~/allHail/projects/ContinuousWavelets/src/sanityChecks.jl:28
┌ Warning: there are wavelets whose peaks are far enough apart that the trough between them is less than half the height of the highest frequency wavelet
│   minimalRegionComparedToLastPeak = 2.5356674293941244
└ @ ContinuousWavelets ~/allHail/projects/ContinuousWavelets/src/sanityChecks.jl:28
┌ Warning: there are wavelets whose peaks are far enough apart that the trough between them is less than half the height of the highest frequency wavelet
│   minimalRegionComparedToLastPeak = 2.2954419414285616
└ @ ContinuousWavelets ~/allHail/projects/ContinuousWavelets/src/sanityChecks.jl:28
stFlux{2, Nd=1, filters=[12], σ = abs, batchSize = 1, normalize = true}

julia&gt; St(x)
ScatteredOut{Array{Float32},3} 1 dim. OutputSizes:
    (128, 1, 1)
    (86, 12, 1)
    (57, 11, 12, 1)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/dsweber2/ScatteringTransform.jl/blob/8b0b58adf7ac64a79ae891659e836bc886c8b725/src/transform.jl#L1-L35">source</a></section></article><h2 id="Parameters-unique-to-ScatteringTransform.jl"><a class="docs-heading-anchor" href="#Parameters-unique-to-ScatteringTransform.jl">Parameters unique to ScatteringTransform.jl</a><a id="Parameters-unique-to-ScatteringTransform.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-unique-to-ScatteringTransform.jl" title="Permalink"></a></h2><ul><li><code>m::Integer=2</code>: the total number of layers</li><li><code>normalize::Bool=true</code>: if true, apply the function <a href="../utils/#ScatteringTransform.normalize"><code>normalize</code></a>. The amount of energy in each layer decays exponentially for most inputs, so without normalizing, using the scattering coefficients poses some difficulty. To avoid this, when <code>normalize</code> is true, each layer is divided by the overall norm of that layer, and then multiplied by the number of paths in that layer.</li><li><code>poolBy::Union{&lt;:Integer, &lt;:Rational, &lt;:Tuple}=3//2</code>: the amount to pool between layers. For a two layer network, the default is expanded to <code>(3//2, 3//2, 3//2)</code>, corresponding to the first layer, second layer, and final averaging subsampling rates. It also accepts tuples that are too short, and simply replicates the last entry, e.g. <code>poolBy=(2,3//2)</code> for a three layer network is equivalent to <code>poolBy=(2,3//2,3//2,3//2)</code>.</li><li><code>outputPool::Union{&lt;:Integer, &lt;:Rational, &lt;:Tuple}=2</code>: the amount to subsample after averaging in each layer (present because averaging removes the high frequencies, so the full signal is inherently redundant). Has a similar structure to <code>poolBy</code>.</li><li><code>flatten::Bool=false</code>: if true, return a matrix that is <code>(nCoefficients,nExamples)</code>, otherwise, return the more structured <a href="../out/#ScatteringTransform.ScatteredOut"><code>ScatteredOut</code></a></li><li><code>σ::function=abs</code>: the nonlinearity applied pointwise between layers. This should take in a <code>Number</code>, and return a <code>Number</code> (real or complex floating point). If the wavelet transform is <a href="https://dsweber2.github.io/ContinuousWavelets.jl/dev/coreType/#ContinuousWavelets.ContWave">analytic</a>, this must have a method for <code>Complex</code>.</li></ul><h2 id="Parameters-passed-to-[FourierFilterFlux.jl](https://dsweber2.github.io/FourierFilterFlux.jl/dev/)"><a class="docs-heading-anchor" href="#Parameters-passed-to-[FourierFilterFlux.jl](https://dsweber2.github.io/FourierFilterFlux.jl/dev/)">Parameters passed to <a href="https://dsweber2.github.io/FourierFilterFlux.jl/dev/">FourierFilterFlux.jl</a></a><a id="Parameters-passed-to-[FourierFilterFlux.jl](https://dsweber2.github.io/FourierFilterFlux.jl/dev/)-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-passed-to-[FourierFilterFlux.jl](https://dsweber2.github.io/FourierFilterFlux.jl/dev/)" title="Permalink"></a></h2><ul><li><code>dtype::DataType=Float32</code>: the data type used to represent the filters.</li><li><code>cw::ContWaveClass=Morlet()</code>: the type of wavelet to use.</li><li><code>plan::Bool=true</code>: if true, store the fft plan for reuse.</li><li><code>convBoundary::ConvBoundary=Sym()</code>: the type of symmetry to use in computing the transform. Note that <code>convBoundary</code> and <code>boundary</code> are different, with <code>boundary</code> needing to be set using types from ContinuousWavelets and <code>convBoundary</code> needs to be set using the FourierFilterFlux types.</li><li><code>averagingLayer::Bool=false</code>: if true, use just the averaging filter, and drop all other filters.</li><li><code>trainable::Bool=false</code>: if true, the wavelet filters are considered parameters, and can be updated using standard methods from Flux.jl.</li><li><code>bias::Bool=false</code>: if true, include an offset, initialized using <code>init</code>. Most likely to be used with <code>trainable</code> true.</li><li><code>init::function=Flux.glorot_normal</code>: a function to initialize the bias, otherwise ignored.</li></ul><h2 id="Parameters-passed-to-[ContinuousWavelets.jl](https://dsweber2.github.io/ContinuousWavelets.jl/dev/)"><a class="docs-heading-anchor" href="#Parameters-passed-to-[ContinuousWavelets.jl](https://dsweber2.github.io/ContinuousWavelets.jl/dev/)">Parameters passed to <a href="https://dsweber2.github.io/ContinuousWavelets.jl/dev/">ContinuousWavelets.jl</a></a><a id="Parameters-passed-to-[ContinuousWavelets.jl](https://dsweber2.github.io/ContinuousWavelets.jl/dev/)-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-passed-to-[ContinuousWavelets.jl](https://dsweber2.github.io/ContinuousWavelets.jl/dev/)" title="Permalink"></a></h2><ul><li><code>scalingFactor</code>, <code>s</code>, or <code>Q::Real=8.0</code>: the number of wavelets between the octaves <span>$2^J$</span> and <span>$2^{J+1}$</span> (defaults to 8, which is most appropriate for music and other audio). Valid range is <span>$(0,\infty)$</span>.</li><li><code>β::Real=4.0</code>: As using exactly <code>Q</code> wavelets per octave leads to excessively many low-frequency wavelets, <code>β</code> varies the number of wavelets per octave, with larger values of <code>β</code> corresponding to fewer low frequency wavelets(see <a href="https://dsweber2.github.io/ContinuousWavelets.jl/dev/spacing/#Wavelet-Frequency-Spacing">Wavelet Frequency Spacing</a> for details). Valid range is <span>$(1,\infty)$</span>, though around <code>β=6</code> the spacing is approximately linear <em>in frequency</em>, rather than log-frequency, and begins to become concave after that.</li><li><code>boundary::WaveletBoundary=SymBoundary()</code>: The default boundary condition is <code>SymBoundary()</code>, implemented by appending a flipped version of the vector at the end to eliminate edge discontinuities. See <a href="https://dsweber2.github.io/ContinuousWavelets.jl/dev/bound/#Boundary-Conditions">Boundary Conditions</a> for the other possibilities. </li><li><code>averagingType::Average=Father()</code>: determines whether or not to include the averaging function, and if so, what kind of averaging. The options are<ul><li><code>Father</code>: use the averaging function that corresponds to the mother Wavelet.</li><li><code>Dirac</code>: use the sinc function with the appropriate width.</li><li><code>NoAve</code>: don&#39;t average. this has one fewer filters than the other <code>averagingTypes</code></li></ul></li><li><code>averagingLength::Int=4</code>:  the number of wavelet octaves that are covered by the averaging, </li><li><code>frameBound::Real=1</code>: gives the total norm of the whole collection, corresponding to the upper frame bound; if you don&#39;t want to impose a particular bound, set <code>frameBound&lt;0</code>.</li><li><code>normalization</code> or <code>p::Real=Inf</code>: the p-norm preserved as the scale changes, so if we&#39;re scaling by <span>$s$</span>, <code>normalization</code> has value <code>p</code>, and the mother wavelet is <span>$\psi$</span>, then the resulting wavelet is <span>$s^{1/p}\psi(^{t}/_{s})$</span>. The default scaling, <code>Inf</code> gives all the same maximum value in the frequency domain. Valid range is <span>$(0,\infty]$</span>, though <span>$p&lt;1$</span> isn&#39;t actually preserving a norm.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../math/">« Mathematical Description</a><a class="docs-footer-nextpage" href="../out/">ScatteredOut type »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Friday 19 August 2022 02:56">Friday 19 August 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
